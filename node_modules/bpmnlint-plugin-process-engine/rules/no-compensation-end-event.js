"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const lintUtils = require("bpmnlint-utils");
/**
 * Rule that reports if a process contains a CompensationEndEvent.
 *
 * CompensationEndEvents are currently not supported by the ProcessEngine.
 */
module.exports = () => {
    function check(node, reporter) {
        const nodeIsEndEvent = lintUtils.is(node, 'bpmn:EndEvent');
        if (nodeIsEndEvent) {
            const eventElement = node;
            const endEventHasEventDefinitions = eventElement.eventDefinitions !== undefined;
            if (endEventHasEventDefinitions) {
                const endEventIsCompensationEndEvent = eventElement.eventDefinitions.some((definition) => {
                    return lintUtils.is(definition, 'bpmn:CompensateEventDefinition');
                });
                if (endEventIsCompensationEndEvent) {
                    reporter.report(node.id, 'CompensationEndEvents are currently not supported!');
                }
            }
        }
    }
    return {
        check: check,
    };
};
//# sourceMappingURL=no-compensation-end-event.js.map