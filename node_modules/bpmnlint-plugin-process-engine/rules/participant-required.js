"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const lintUtils = require("bpmnlint-utils");
/**
 * Rule that reports if a process contains no Participant.
 */
module.exports = () => {
    function check(node, reporter) {
        const nodeIsDefinitions = lintUtils.is(node, 'bpmn:Definitions');
        if (nodeIsDefinitions) {
            const definitions = node;
            const collaboration = definitions.rootElements.find((element) => {
                return lintUtils.is(element, 'bpmn:Collaboration');
            });
            const collaborationIsUndefined = collaboration === undefined;
            if (collaborationIsUndefined) {
                return;
            }
            const collaborationContainsNoParticipant = collaboration.participants.length === 0;
            if (collaborationContainsNoParticipant) {
                const process = definitions.rootElements.find((element) => {
                    return lintUtils.is(element, 'bpmn:Process');
                });
                reporter.report(process.id, 'This process contains no Participant');
            }
        }
    }
    return {
        check: check,
    };
};
//# sourceMappingURL=participant-required.js.map