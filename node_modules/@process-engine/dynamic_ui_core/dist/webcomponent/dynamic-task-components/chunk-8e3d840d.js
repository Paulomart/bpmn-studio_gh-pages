const e=window.DynamicTaskComponents.h;import{a as t}from"./chunk-d8a0f336.js";class a{validateKey(e){const a=e.keyCode===t.ENTER,i=e.keyCode===t.BACKSPACE,s=2===e.target.value.length||5===e.target.value.length,r=this.isCopyAndPastePressed(e),l=this.isKeyValid(e,i,r);if(e.keyCode===t.TAB)return!0;if(a)return this.isValidDate(e.target.value);if(s){if(i)return!0;e.target.value=e.target.value.concat(".")}return l}isValidDate(e){const t=parseInt(e.substring(6,10)),a=parseInt(e.substring(3,5)),i=parseInt(e.substring(0,2));return this.isDayInMonth(i,a,t)}isDayInMonth(e,t,a){return e<=new Date(a,t,0).getDate()}isCopyAndPastePressed(e){return(e.keyCode===t.C||e.keyCode===t.V)&&(e.ctrlKey||e.metaKey)}isKeyValid(e,a,i){return e.keyCode<=t.NINE&&e.keyCode>=t.ZERO||a||i}}class i{constructor(){this.isValid=!0,this.validationRegex="^(0?[1-9]|[12][0-9]|3[01])([ \\.])(0?[1-9]|1[012])\\2([0-9][0-9][0-9][0-9])(([ -])([0-1]?[0-9]|2[0-3]):[0-5]?[0-9]:[0-5]?[0-9])?$",this._inputValidator=new a}get name(){return this.formField.id}componentWillLoad(){this.value=this.formField.defaultValue}render(){return e("div",{class:"form-group"},e("label",{htmlFor:this.formField.id},this.formField.label),e("input",{type:"text","data-provide":"datepicker",class:"form-control",maxlength:"10",placeholder:"--.--.----",pattern:this.validationRegex,id:this.formField.id,value:this.value,onChange:e=>this._handleChange(e),onKeyDown:e=>this._handleKeyDown(e)}))}_handleChange(e){this.value=e.target.value,this.isValid=this._inputValidator.isValidDate(e.target.value),this._setStyle(e)}_setStyle(e){const t=0===e.target.value.length;document.getElementById(this.formField.id).style.borderColor=this.isValid||t?"":"red",t&&(this.isValid=!0)}_handleKeyDown(e){this._inputValidator.validateKey(e)||e.preventDefault()}static get is(){return"date-form-field"}static get encapsulation(){return"shadow"}static get properties(){return{value:{state:!0}}}static get style(){return"/**style-placeholder:date-form-field:**/"}}export{i as a};