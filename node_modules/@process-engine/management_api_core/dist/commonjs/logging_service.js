"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const paginator_1 = require("./paginator");
class LoggingService {
    constructor(loggingApiService) {
        this.loggingApiService = loggingApiService;
    }
    async getProcessModelLog(identity, processModelId, correlationId, offset = 0, limit = 0) {
        let logs = await this.loggingApiService.readLogForProcessModel(identity, processModelId);
        if (correlationId) {
            logs = logs.filter((entry) => {
                return entry.correlationId === correlationId;
            });
        }
        const paginizedLogs = paginator_1.applyPagination(logs, offset, limit);
        return { logEntries: paginizedLogs, totalCount: logs.length };
    }
    async getProcessInstanceLog(identity, processModelId, processInstanceId, offset = 0, limit = 0) {
        const processModelLog = await this.loggingApiService.readLogForProcessModel(identity, processModelId);
        const processInstanceLog = processModelLog.filter((logEntry) => {
            return logEntry.processInstanceId === processInstanceId;
        });
        const paginizedLogs = paginator_1.applyPagination(processInstanceLog, offset, limit);
        return { logEntries: paginizedLogs, totalCount: processInstanceLog.length };
    }
}
exports.LoggingService = LoggingService;
//# sourceMappingURL=logging_service.js.map