"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const yargsParser = require("yargs-parser");
const package_version_1 = require("../versions/package_version");
const COMMAND_NAME = 'get-version';
const DOC = `
Returns the package version.
`;
async function run(...args) {
    const argv = yargsParser(args, { alias: { help: ['h'] } });
    const majorRequired = argv.major;
    if (majorRequired) {
        const majorVersion = package_version_1.getMajorPackageVersion();
        console.log(majorVersion);
        return true;
    }
    const packageVersion = package_version_1.getPackageVersion();
    console.log(packageVersion);
    return true;
}
exports.run = run;
function getShortDoc() {
    return DOC.trim().split('\n')[0];
}
exports.getShortDoc = getShortDoc;
function printHelp() {
    console.log(`Usage: ci_tools ${COMMAND_NAME} [--major]`);
    console.log('');
    console.log(DOC.trim());
}
exports.printHelp = printHelp;
//# sourceMappingURL=get-version.js.map