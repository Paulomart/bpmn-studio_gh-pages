"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const persistence_api_contracts_1 = require("@process-engine/persistence_api.contracts");
const type_factory_1 = require("../../../type_factory");
const activity_factory_1 = require("./activity_factory");
function parseScriptTasks(processData) {
    const scriptTasksRaw = type_factory_1.getModelPropertyAsArray(processData, persistence_api_contracts_1.BpmnTags.TaskElement.ScriptTask);
    const noScriptTasksFound = !((scriptTasksRaw === null || scriptTasksRaw === void 0 ? void 0 : scriptTasksRaw.length) > 0);
    if (noScriptTasksFound) {
        return [];
    }
    const scriptTasks = scriptTasksRaw.map((scriptTaskRaw) => {
        const scriptTask = activity_factory_1.createActivityInstance(scriptTaskRaw, persistence_api_contracts_1.Model.Activities.ScriptTask);
        scriptTask.scriptFormat = scriptTaskRaw.scriptFormat;
        scriptTask.script = scriptTaskRaw[persistence_api_contracts_1.BpmnTags.FlowElementProperty.BpmnScript];
        scriptTask.resultVariable = scriptTaskRaw[persistence_api_contracts_1.BpmnTags.CamundaProperty.ResultVariable];
        return scriptTask;
    });
    return scriptTasks;
}
exports.parseScriptTasks = parseScriptTasks;
//# sourceMappingURL=script_task_parser.js.map