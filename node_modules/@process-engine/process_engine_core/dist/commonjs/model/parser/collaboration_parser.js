"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const persistence_api_contracts_1 = require("@process-engine/persistence_api.contracts");
const type_factory_1 = require("../type_factory");
function parseCollaboration(parsedObjectModel) {
    const collaborationRaw = parsedObjectModel[persistence_api_contracts_1.BpmnTags.CommonElement.Collaboration];
    const collaboration = type_factory_1.createObjectWithCommonProperties(collaborationRaw, persistence_api_contracts_1.Model.Collaboration);
    collaboration.name = collaborationRaw.name;
    collaboration.participants = getCollaborationParticipants(collaborationRaw);
    return collaboration;
}
exports.parseCollaboration = parseCollaboration;
function getCollaborationParticipants(collaborationData) {
    const participantsRaw = type_factory_1.getModelPropertyAsArray(collaborationData, persistence_api_contracts_1.BpmnTags.CommonElement.Participant);
    const participants = [];
    for (const participantRaw of participantsRaw) {
        const participant = type_factory_1.createObjectWithCommonProperties(participantRaw, persistence_api_contracts_1.Model.Participant);
        participant.name = participantRaw.name;
        participant.processReference = participantRaw.processRef;
        participants.push(participant);
    }
    return participants;
}
//# sourceMappingURL=collaboration_parser.js.map