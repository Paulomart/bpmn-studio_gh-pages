DynamicTaskComponents.loadBundle("vjamaqav",["exports","./chunk-88c9322a.js","./chunk-38e7f28a.js","./chunk-7286f240.js","./chunk-9b8a3837.js","./chunk-e4568996.js","./chunk-4b15fe0c.js","./chunk-83bb18fe.js","./chunk-f5b2f4a1.js"],function(e,t,n,r,s,o,i,a,d){var l=window.DynamicTaskComponents.h,c=function(){function e(){this._formFieldComponentsForTyp=[],this._formFields=[],this._formFieldComponentsForTyp.string=d.StringFormField,this._formFieldComponentsForTyp.long=i.LongFormField,this._formFieldComponentsForTyp.number=a.NumberFormField,this._formFieldComponentsForTyp.boolean=t.BooleanFormField,this._formFieldComponentsForTyp.decimal=a.NumberFormField,this._formFieldComponentsForTyp.date=r.DateFormField,this._formFieldComponentsForTyp.enum=o.EnumFormField}return e.prototype.componentWillLoad=function(){this.watchUserTaskHandler(this.usertask,void 0)},e.prototype.watchUserTaskHandler=function(e,t){if(this._formFields=[],null!=e)for(var n=0,r=e.data.formFields;n<r.length;n++){var s=this._createComponentForFormField(r[n]);s.componentWillLoad(),this._formFields.push(s)}},e.prototype.render=function(){return null!=this.usertask?"confirm"===this.usertask.data.preferredControl?this._renderConfirmUserTask():this._renderUserTask():l("div",{class:"card form_card"},l("div",{class:"card-body"},l("h3",{class:"card-title mb-0"},"UserTask finished.")))},e.prototype._renderConfirmUserTask=function(){var e=this,t=this.usertask.data.formFields.find(function(e){return"boolean"===e.type}),n=this.usertask.data.formFields.indexOf(t);return this._formFields.splice(n,1),l("div",{class:"card form_card"},l("div",{class:"card-body"},l("h3",{class:"card-title"},this.usertask.name),this._formFields.map(function(e){return e.render()}),l("p",null,t.label),l("br",null),l("div",{class:"float-right"},l("button",{type:"button",class:"btn btn-secondary",onClick:function(t){return e._handleCancel(t)},id:"dynamic-ui-wrapper-cancel-button"},"Cancel")," ",l("button",{type:"button",class:"btn btn-danger",onClick:function(t){return e._handleDecline(t)},id:"dynamic-ui-wrapper-decline-button"},"Decline")," ",l("button",{type:"button",class:"btn btn-success",onClick:function(t){return e._handleProceed(t)},id:"dynamic-ui-wrapper-proceed-button"},"Proceed"))))},e.prototype._renderUserTask=function(){var e=this;return l("div",{class:"card form_card"},l("div",{class:"card-body"},l("h3",{class:"card-title"},this.usertask.name),l("form",{onSubmit:function(t){return e._handleSubmit(t)}},this._formFields.map(function(e){return e.render()}),l("br",null),l("div",{class:"float-right"},l("button",{type:"button",class:"btn btn-secondary",onClick:function(t){return e._handleCancel(t)},id:"dynamic-ui-wrapper-cancel-button"},"Cancel")," ",l("button",{type:"submit",class:"btn btn-primary",id:"dynamic-ui-wrapper-continue-button"},"Continue")))))},e.prototype._handleSubmit=function(e){e.preventDefault(),this._isInputValid()&&this.submitted.emit({correlationId:this.usertask.correlationId,processInstanceId:this.usertask.processInstanceId,userTaskId:this.usertask.id,flowNodeInstanceId:this.usertask.flowNodeInstanceId,results:this._getFormResults()})},e.prototype._handleProceed=function(e){this.submitted.emit({correlationId:this.usertask.correlationId,processInstanceId:this.usertask.processInstanceId,userTaskId:this.usertask.id,flowNodeInstanceId:this.usertask.flowNodeInstanceId,results:this._getConfirmResult(!0)})},e.prototype._handleDecline=function(e){this.submitted.emit({correlationId:this.usertask.correlationId,processInstanceId:this.usertask.processInstanceId,userTaskId:this.usertask.id,flowNodeInstanceId:this.usertask.flowNodeInstanceId,results:this._getConfirmResult(!1)})},e.prototype._handleCancel=function(e){this.canceled.emit()},e.prototype._isInputValid=function(){for(var e=0,t=this._formFields;e<t.length;e++)if(!t[e].isValid)return!1;return!0},e.prototype._getFormResults=function(){for(var e={formFields:{}},t=0,n=this._formFields;t<n.length;t++){var r=n[t];e.formFields[r.name]=r.value}return e},e.prototype._getConfirmResult=function(e){for(var t={formFields:{}},n=this.usertask.data.formFields.find(function(e){return"boolean"===e.type}),r=0,s=this._formFields;r<s.length;r++){var o=s[r];t.formFields[o.name]=o.value}return t.formFields[n.id]=e,t},e.prototype._createComponentForFormField=function(e){var t=new(0,this._formFieldComponentsForTyp[e.type]);return t.formField=e,t.value=e.defaultValue,t},Object.defineProperty(e,"is",{get:function(){return"dynamic-usertask-component"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{usertask:{type:"Any",attr:"usertask",watchCallbacks:["watchUserTaskHandler"]}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"submitted",method:"submitted",bubbles:!0,cancelable:!0,composed:!0},{name:"canceled",method:"canceled",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return""},enumerable:!0,configurable:!0}),e}();e.DynamicUsertaskComponent=c,Object.defineProperty(e,"__esModule",{value:!0})});